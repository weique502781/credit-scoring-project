<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°æ®å¤„ç†åˆ†æ - æ¨¡å‹åˆ†æç»“æœå±•ç¤º</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        .tabs {
            display: flex;
            border-bottom: 2px solid #ddd;
            margin-bottom: 20px;
        }

        .tab-button {
            background-color: #f1f1f1;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-size: 16px;
            margin-right: 5px;
            border-radius: 5px 5px 0 0;
            transition: background-color 0.3s;
        }

        .tab-button:hover {
            background-color: #ddd;
        }

        .tab-button.active {
            background-color: #007bff;
            color: white;
        }

        .tab-content {
            display: none;
            padding: 20px;
            background-color: white;
            border: 1px solid #ddd;
            border-top: none;
            min-height: 400px;
        }

        .tab-content.active {
            display: block;
        }

        .markdown-content {
            max-height: 600px;
            overflow-y: auto;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 4px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
        }

        .markdown-content h1,
        .markdown-content h2,
        .markdown-content h3 {
            color: #2c3e50;
            margin-top: 1.5em;
            margin-bottom: 0.5em;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.3em;
        }

        .markdown-content h1 {
            font-size: 2em;
            border-bottom: 2px solid #007bff;
        }

        .markdown-content h2 {
            font-size: 1.5em;
        }

        .markdown-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background-color: white;
        }

        .markdown-content th,
        .markdown-content td {
            border: 1px solid #ddd;
            padding: 8px 12px;
            text-align: left;
        }

        .markdown-content th {
            background-color: #f2f2f2;
            font-weight: bold;
            color: #2c3e50;
        }

        .markdown-content tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        .markdown-content code {
            background-color: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            color: #c7254e;
        }

        .markdown-content pre {
            background-color: #f5f5f5;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
            border-left: 3px solid #007bff;
        }

        .markdown-content ul,
        .markdown-content ol {
            padding-left: 20px;
            margin: 10px 0;
        }

        .markdown-content li {
            margin: 5px 0;
        }

        .markdown-content blockquote {
            border-left: 4px solid #007bff;
            padding-left: 15px;
            margin: 15px 0;
            color: #666;
            font-style: italic;
        }

        .rules-examples {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .rule-card {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            border-left: 4px solid;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .rule-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .rule-card.good {
            border-left-color: #28a745;
        }

        .rule-card.bad {
            border-left-color: #dc3545;
        }

        .rule-card h4 {
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .rule-card .rule-text {
            font-size: 0.95em;
            color: #555;
            margin-bottom: 10px;
        }

        .rule-card .rule-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85em;
            color: #777;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .loading::after {
            content: '...';
            animation: dots 1.5s steps(4, end) infinite;
        }

        @keyframes dots {
            0%, 20% { content: ''; }
            40% { content: '.'; }
            60% { content: '..'; }
            80%, 100% { content: '...'; }
        }

        .error-message {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            border-radius: 4px;
            padding: 15px;
            color: #721c24;
            margin: 20px 0;
        }

        .download-link {
            display: inline-block;
            background-color: #007bff;
            color: white;
            padding: 8px 16px;
            border-radius: 4px;
            text-decoration: none;
            margin: 10px 0;
            transition: background-color 0.3s;
        }

        .download-link:hover {
            background-color: #0056b3;
            text-decoration: none;
            color: white;
        }

        /* æ–°å¢çš„æ ·å¼ */
        .image-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .image-container {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            border: 1px solid #e0e0e0;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .image-container:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .image-container h3 {
            margin-top: 0;
            margin-bottom: 15px;
            color: #2c3e50;
            font-size: 1.2em;
            border-bottom: 2px solid #007bff;
            padding-bottom: 8px;
        }

        .image-container img {
            width: 100%;
            height: auto;
            max-height: 300px;
            object-fit: contain;
            border: 1px solid #ddd;
            border-radius: 4px;
            background-color: #f8f9fa;
            padding: 5px;
        }

        .image-container p {
            margin-top: 10px;
            color: #666;
            font-size: 0.9em;
            text-align: center;
            font-style: italic;
        }

        .download-section {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .download-section .download-link {
            display: flex;
            align-items: center;
            gap: 8px;
            background-color: #28a745;
            padding: 12px 20px;
            font-size: 16px;
        }

        .download-section .download-link:hover {
            background-color: #218838;
        }

        .download-section .download-link:nth-child(2) {
            background-color: #007bff;
        }

        .download-section .download-link:nth-child(2):hover {
            background-color: #0056b3;
        }

        .download-section .download-link:nth-child(3) {
            background-color: #6f42c1;
        }

        .download-section .download-link:nth-child(3):hover {
            background-color: #563d7c;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>æœºå™¨å­¦ä¹ æ¨¡å‹åˆ†æç»“æœå±•ç¤ºå¹³å°</h1>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul>
                <li><a href="/">é¦–é¡µ</a></li>
                <li><a href="/data-analysis" class="active">æ•°æ®å¤„ç†åˆ†æ</a></li>
                <li><a href="/model-results">æ¨¡å‹é¢„æµ‹ç»“æœ</a></li>
                <li><a href="/model-comparison">æ¨¡å‹å¯¹æ¯”åˆ†æ</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">
        <section>
            <h2>æ•°æ®å¤„ç†ä¸ç‰¹å¾å·¥ç¨‹</h2>
            <p>æœ¬éƒ¨åˆ†å±•ç¤ºæ•°æ®é¢„å¤„ç†ã€ç‰¹å¾å·¥ç¨‹å’Œç‰¹å¾é€‰æ‹©çš„ç»“æœã€‚</p>
        </section>

        <section>
            <h2>ç‰¹å¾é‡è¦æ€§åˆ†æ</h2>
            <p>ä»¥ä¸‹æ˜¯å†³ç­–æ ‘æ¨¡å‹æå–çš„ç‰¹å¾é‡è¦æ€§æ’åºï¼Œåæ˜ å„ç‰¹å¾å¯¹æ¨¡å‹é¢„æµ‹çš„å½±å“ç¨‹åº¦ï¼š</p>
            <div class="image-grid">
                <div class="image-container">
                    <img src="/static/reports/figures/decision_tree_feature_importance.png"
                         alt="å†³ç­–æ ‘ç‰¹å¾é‡è¦æ€§"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>å†³ç­–æ ‘ç‰¹å¾é‡è¦æ€§</p>
                </div>
            </div>
        </section>

        <section>
            <h2>æ•°æ®æ¢ç´¢æ€§åˆ†æ</h2>
            <p>ä»¥ä¸‹æ˜¯å¯¹å¾·å›½ä¿¡ç”¨æ•°æ®é›†çš„æ¢ç´¢æ€§åˆ†æç»“æœï¼š</p>

            <div class="image-grid">
                <!-- è¿çº¦çŠ¶æ€åˆ†å¸ƒ -->
                <div class="image-container">
                    <h3>è¿çº¦çŠ¶æ€åˆ†å¸ƒ</h3>
                    <img src="/static/reports/default_distribution.png"
                         alt="è¿çº¦çŠ¶æ€åˆ†å¸ƒ"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>æ­£å¸¸ç”¨æˆ·: 560ä¸ª (70%)ï¼Œè¿çº¦ç”¨æˆ·: 240ä¸ª (30%)</p>
                </div>

                <!-- æ•°å€¼ç‰¹å¾åˆ†å¸ƒ -->
                <div class="image-container">
                    <h3>æ•°å€¼ç‰¹å¾åˆ†å¸ƒ</h3>
                    <img src="/static/reports/numeric_features_distribution.png"
                         alt="æ•°å€¼ç‰¹å¾åˆ†å¸ƒ"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>7ä¸ªæ•°å€¼ç‰¹å¾çš„åˆ†å¸ƒï¼ˆæŒ‰è¿çº¦çŠ¶æ€åŒºåˆ†ï¼‰</p>
                </div>

                <!-- ç‰¹å¾ç›¸å…³æ€§çƒ­åŠ›å›¾ -->
                <div class="image-container">
                    <h3>ç‰¹å¾ç›¸å…³æ€§çƒ­åŠ›å›¾</h3>
                    <img src="/static/reports/feature_correlation.png"
                         alt="ç‰¹å¾ç›¸å…³æ€§çƒ­åŠ›å›¾"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>æ•°å€¼ç‰¹å¾é—´çš„Pearsonç›¸å…³ç³»æ•°</p>
                </div>

                <!-- ç‰¹å¾ä¸ç›®æ ‡ç›¸å…³æ€§ -->
                <div class="image-container">
                    <h3>ç‰¹å¾ä¸è¿çº¦çŠ¶æ€ç›¸å…³æ€§</h3>
                    <img src="/static/reports/feature_target_correlation.png"
                         alt="ç‰¹å¾ä¸è¿çº¦çŠ¶æ€ç›¸å…³æ€§"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>æ•°å€¼ç‰¹å¾ä¸è¿çº¦çŠ¶æ€çš„ç›¸å…³æ€§åˆ†æ</p>
                </div>

                <!-- åˆ†ç±»ç‰¹å¾è¿çº¦ç‡åˆ†å¸ƒ -->
                <div class="image-container">
                    <h3>åˆ†ç±»ç‰¹å¾è¿çº¦ç‡åˆ†å¸ƒ</h3>
                    <img src="/static/reports/categorical_features_default_rate.png"
                         alt="åˆ†ç±»ç‰¹å¾è¿çº¦ç‡åˆ†å¸ƒ"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>4ä¸ªæ ¸å¿ƒåˆ†ç±»ç‰¹å¾çš„è¿çº¦ç‡å¯¹æ¯”</p>
                </div>

                <!-- è´¦æˆ·çŠ¶æ€vsè´·æ¬¾é‡‘é¢ -->
                <div class="image-container">
                    <h3>è´¦æˆ·çŠ¶æ€ vs è´·æ¬¾é‡‘é¢</h3>
                    <img src="/static/reports/account_status_credit_amount.png"
                         alt="è´¦æˆ·çŠ¶æ€ vs è´·æ¬¾é‡‘é¢"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>å¸¦æ•£ç‚¹çš„ç®±çº¿å›¾ï¼ˆæŒ‰è¿çº¦çŠ¶æ€åˆ†ç»„ï¼‰</p>
                </div>

                <!-- è´·æ¬¾é‡‘é¢vsè´·æ¬¾æœŸé™ -->
                <div class="image-container">
                    <h3>è´·æ¬¾é‡‘é¢ vs è´·æ¬¾æœŸé™</h3>
                    <img src="/static/reports/credit_amount_duration_interaction.png"
                         alt="è´·æ¬¾é‡‘é¢ vs è´·æ¬¾æœŸé™"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>æ•£ç‚¹å›¾ï¼ˆæŒ‰è¿çº¦çŠ¶æ€ç€è‰²ï¼‰</p>
                </div>
            </div>
        </section>

        <section>
            <h2>æ¨¡å‹è¯„ä¼°ç»“æœ</h2>
            <p>ä»¥ä¸‹æ˜¯æ¨¡å‹è®­ç»ƒåçš„è¯„ä¼°ç»“æœï¼š</p>

            <div class="image-grid">
                <!-- æ¨¡å‹å¯¹æ¯”å›¾ -->
                <div class="image-container">
                    <h3>å¤šæ¨¡å‹æ€§èƒ½å¯¹æ¯”</h3>
                    <img src="/static/reports/model_comparison.png"
                         alt="å¤šæ¨¡å‹æ€§èƒ½å¯¹æ¯”"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>å¤šä¸ªæ¨¡å‹åœ¨å‡†ç¡®ç‡ã€ç²¾ç¡®ç‡ç­‰æŒ‡æ ‡ä¸Šçš„è¡¨ç°</p>
                </div>

                <!-- æ··æ·†çŸ©é˜µ -->
                <div class="image-container">
                    <h3>æ··æ·†çŸ©é˜µå¯¹æ¯”</h3>
                    <img src="/static/reports/confusion_matrices.png"
                         alt="æ··æ·†çŸ©é˜µå¯¹æ¯”"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>å„æ¨¡å‹çš„åŸå§‹æ··æ·†çŸ©é˜µ</p>
                </div>

                <!-- å½’ä¸€åŒ–æ··æ·†çŸ©é˜µ -->
                <div class="image-container">
                    <h3>å½’ä¸€åŒ–æ··æ·†çŸ©é˜µ</h3>
                    <img src="/static/reports/confusion_matrices_normalized.png"
                         alt="å½’ä¸€åŒ–æ··æ·†çŸ©é˜µ"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>æŒ‰è¡Œå½’ä¸€åŒ–çš„æ··æ·†çŸ©é˜µ</p>
                </div>

                <!-- ROCæ›²çº¿ -->
                <div class="image-container">
                    <h3>ROCæ›²çº¿å¯¹æ¯”</h3>
                    <img src="/static/reports/roc_curves.png"
                         alt="ROCæ›²çº¿å¯¹æ¯”"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>å„æ¨¡å‹çš„ROCæ›²çº¿åŠAUCå€¼</p>
                </div>

                <!-- PRæ›²çº¿ -->
                <div class="image-container">
                    <h3>PRæ›²çº¿å¯¹æ¯”</h3>
                    <img src="/static/reports/pr_curves.png"
                         alt="PRæ›²çº¿å¯¹æ¯”"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>ç²¾ç¡®ç‡-å¬å›ç‡æ›²çº¿åŠPR-AUCå€¼</p>
                </div>

                <!-- AdaBoostç‰¹å¾é‡è¦æ€§ -->
                <div class="image-container">
                    <h3>AdaBoostç‰¹å¾é‡è¦æ€§</h3>
                    <img src="/static/reports/feature_importance_adaboost.png"
                         alt="AdaBoostç‰¹å¾é‡è¦æ€§"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>å‰10ä¸ªé‡è¦ç‰¹å¾åŠåˆ†å€¼</p>
                </div>

                <!-- é˜ˆå€¼æ•æ„Ÿæ€§åˆ†æ -->
                <div class="image-container">
                    <h3>AdaBoosté˜ˆå€¼æ•æ„Ÿæ€§åˆ†æ</h3>
                    <img src="/static/reports/threshold_analysis_adaboost.png"
                         alt="é˜ˆå€¼æ•æ„Ÿæ€§åˆ†æ"
                         onerror="this.src='/static/images/placeholder.png'; this.alt='å›¾ç‰‡åŠ è½½å¤±è´¥'">
                    <p>ä¸åŒé˜ˆå€¼ä¸‹çš„ç²¾ç¡®ç‡ã€å¬å›ç‡å’ŒF1åˆ†æ•°</p>
                </div>
            </div>
        </section>

        <section>
            <h2>å†³ç­–è§„åˆ™æå–</h2>
            <p>ä»å†³ç­–æ ‘æ¨¡å‹ä¸­æå–çš„å…³é”®å†³ç­–è§„åˆ™ï¼Œå¯å¸®åŠ©ç†è§£æ¨¡å‹å¦‚ä½•åšå‡ºåˆ¤æ–­ï¼š</p>

            <div class="tabs">
                <button class="tab-button active" onclick="openTab(event, 'rules-md')">è§„åˆ™æŠ¥å‘Š</button>
                <button class="tab-button" onclick="openTab(event, 'rules-examples')">è§„åˆ™ç¤ºä¾‹</button>
                <button class="tab-button" onclick="openTab(event, 'rules-explain')">è§„åˆ™è¯´æ˜</button>
            </div>

            <div id="rules-md" class="tab-content active">
                <div class="markdown-content" id="rules-content">
                    <div class="loading">æ­£åœ¨åŠ è½½å†³ç­–è§„åˆ™...</div>
                </div>
                <div class="error-message" id="rules-error" style="display: none;">
                    <p>âš  å†³ç­–è§„åˆ™æ–‡ä»¶æ— æ³•åŠ è½½ã€‚å¯èƒ½çš„åŸå› ï¼š</p>
                    <ul>
                        <li>æ–‡ä»¶ä¸å­˜åœ¨æˆ–è·¯å¾„é”™è¯¯</li>
                        <li>æœåŠ¡å™¨æ— æ³•è®¿é—®æ–‡ä»¶</li>
                        <li>æ–‡ä»¶æ ¼å¼ä¸å—æ”¯æŒ</li>
                    </ul>
                    <p>æ‚¨å¯ä»¥ï¼š</p>
                    <ul>
                        <li><a href="#" onclick="loadExampleRules(); return false;">æŸ¥çœ‹ç¤ºä¾‹è§„åˆ™</a></li>
                        <li><a href="/static/reports/decision_rules_report.md" target="_blank" class="download-link">ä¸‹è½½è§„åˆ™æ–‡ä»¶</a></li>
                    </ul>
                </div>
            </div>

            <div id="rules-examples" class="tab-content">
                <div class="markdown-content">
                    <h3>å†³ç­–è§„åˆ™ç¤ºä¾‹</h3>
                    <p>ä»¥ä¸‹æ˜¯ä»å†³ç­–æ ‘æ¨¡å‹ä¸­æå–çš„éƒ¨åˆ†å…³é”®å†³ç­–è§„åˆ™ï¼š</p>

                    <div class="rules-examples">
                        <div class="rule-card good">
                            <h4>âœ“ é«˜ä¿¡ç”¨è¯„åˆ†è§„åˆ™</h4>
                            <div class="rule-text">
                                <strong>IF</strong> æ”¯ç¥¨è´¦æˆ·çŠ¶æ€ = "å·²æœ‰ä½™é¢" <br>
                                <strong>AND</strong> è´·æ¬¾æœŸé™ â‰¤ 24ä¸ªæœˆ <br>
                                <strong>THEN</strong> ä¿¡ç”¨è¯„åˆ† = é«˜
                            </div>
                            <div class="rule-meta">
                                <span>ç½®ä¿¡åº¦: 94%</span>
                                <span>æ ·æœ¬æ•°: 85</span>
                            </div>
                        </div>

                        <div class="rule-card good">
                            <h4>âœ“ é«˜ä¿¡ç”¨è¯„åˆ†è§„åˆ™</h4>
                            <div class="rule-text">
                                <strong>IF</strong> å‚¨è“„è´¦æˆ· â‰¥ 1000 DM <br>
                                <strong>AND</strong> è´·æ¬¾ç›®çš„ = "æ–°è½¦" <br>
                                <strong>THEN</strong> ä¿¡ç”¨è¯„åˆ† = é«˜
                            </div>
                            <div class="rule-meta">
                                <span>ç½®ä¿¡åº¦: 92%</span>
                                <span>æ ·æœ¬æ•°: 67</span>
                            </div>
                        </div>

                        <div class="rule-card bad">
                            <h4>âœ— ä½ä¿¡ç”¨è¯„åˆ†è§„åˆ™</h4>
                            <div class="rule-text">
                                <strong>IF</strong> æ”¯ç¥¨è´¦æˆ·çŠ¶æ€ = "æ— è´¦æˆ·" <br>
                                <strong>AND</strong> è´·æ¬¾æœŸé™ > 48ä¸ªæœˆ <br>
                                <strong>THEN</strong> ä¿¡ç”¨è¯„åˆ† = ä½
                            </div>
                            <div class="rule-meta">
                                <span>ç½®ä¿¡åº¦: 91%</span>
                                <span>æ ·æœ¬æ•°: 42</span>
                            </div>
                        </div>

                        <div class="rule-card bad">
                            <h4>âœ— ä½ä¿¡ç”¨è¯„åˆ†è§„åˆ™</h4>
                            <div class="rule-text">
                                <strong>IF</strong> ä¿¡ç”¨å†å² = "å·²æœ‰å»¶è¿Ÿè¿˜æ¬¾" <br>
                                <strong>AND</strong> è´·æ¬¾é‡‘é¢ > 10000 DM <br>
                                <strong>THEN</strong> ä¿¡ç”¨è¯„åˆ† = ä½
                            </div>
                            <div class="rule-meta">
                                <span>ç½®ä¿¡åº¦: 88%</span>
                                <span>æ ·æœ¬æ•°: 38</span>
                            </div>
                        </div>
                    </div>

                    <h3>è§„åˆ™ç»Ÿè®¡</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>è§„åˆ™ç±»å‹</th>
                                <th>æ•°é‡</th>
                                <th>å¹³å‡ç½®ä¿¡åº¦</th>
                                <th>å¹³å‡æ ·æœ¬æ•°</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>é«˜ä¿¡ç”¨è¯„åˆ†è§„åˆ™</td>
                                <td>9</td>
                                <td>87%</td>
                                <td>62</td>
                            </tr>
                            <tr>
                                <td>ä½ä¿¡ç”¨è¯„åˆ†è§„åˆ™</td>
                                <td>6</td>
                                <td>85%</td>
                                <td>35</td>
                            </tr>
                            <tr>
                                <td><strong>æ€»è®¡</strong></td>
                                <td><strong>15</strong></td>
                                <td><strong>86%</strong></td>
                                <td><strong>51</strong></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div id="rules-explain" class="tab-content">
                <div class="markdown-content">
                    <h3>å†³ç­–è§„åˆ™è¯´æ˜</h3>

                    <h4>ä»€ä¹ˆæ˜¯å†³ç­–è§„åˆ™ï¼Ÿ</h4>
                    <p>å†³ç­–è§„åˆ™æ˜¯ä»å†³ç­–æ ‘æ¨¡å‹ä¸­æå–çš„if-thenæ¡ä»¶è¯­å¥ï¼Œæè¿°äº†æ¨¡å‹å¦‚ä½•åŸºäºç‰¹å¾å€¼åšå‡ºé¢„æµ‹å†³ç­–ã€‚</p>

                    <h4>è§„åˆ™æ ¼å¼</h4>
                    <pre>
IF [æ¡ä»¶1] AND [æ¡ä»¶2] AND ... THEN [é¢„æµ‹ç»“æœ]
ç¤ºä¾‹ï¼š
IF å¹´é¾„ > 30 AND è´·æ¬¾é‡‘é¢ < 5000 THEN ä¿¡ç”¨è‰¯å¥½
                    </pre>

                    <h4>è§„åˆ™ç»„æˆéƒ¨åˆ†</h4>
                    <ul>
                        <li><strong>æ¡ä»¶ï¼ˆConditionsï¼‰</strong>: ç‰¹å¾å€¼çš„çº¦æŸï¼Œå¦‚"å¹´é¾„ > 30"ã€"èŒä¸š = æŠ€æœ¯å‘˜"</li>
                        <li><strong>é¢„æµ‹ç»“æœï¼ˆPredictionï¼‰</strong>: æ¨¡å‹çš„æœ€ç»ˆåˆ†ç±»ï¼Œå¦‚"ä¿¡ç”¨è‰¯å¥½"æˆ–"ä¿¡ç”¨ä¸è‰¯"</li>
                        <li><strong>ç½®ä¿¡åº¦ï¼ˆConfidenceï¼‰</strong>: è§„åˆ™åœ¨è®­ç»ƒæ•°æ®ä¸Šçš„å‡†ç¡®ç‡</li>
                        <li><strong>æ”¯æŒåº¦ï¼ˆSupportï¼‰</strong>: æ»¡è¶³è¯¥è§„åˆ™çš„æ ·æœ¬æ•°é‡</li>
                    </ul>

                    <h4>å¦‚ä½•è§£è¯»è§„åˆ™ï¼Ÿ</h4>
                    <ol>
                        <li><strong>å…³æ³¨é«˜ç½®ä¿¡åº¦è§„åˆ™</strong>: ç½®ä¿¡åº¦ > 85% çš„è§„åˆ™æ›´å¯é </li>
                        <li><strong>æ£€æŸ¥æ”¯æŒåº¦</strong>: æ”¯æŒåº¦è¶Šé«˜ï¼Œè§„åˆ™è¶Šå…·æœ‰ä»£è¡¨æ€§</li>
                        <li><strong>ç†è§£ä¸šåŠ¡å«ä¹‰</strong>: å°†è§„åˆ™è½¬æ¢ä¸ºä¸šåŠ¡è¯­è¨€ï¼Œå¦‚"å¹´è½»å€Ÿæ¬¾äººçš„é£é™©æ›´é«˜"</li>
                        <li><strong>å¯»æ‰¾æ¨¡å¼</strong>: è¯†åˆ«é‡å¤å‡ºç°çš„ç‰¹å¾ç»„åˆ</li>
                    </ol>
                </div>
            </div>
        </section>

        <section>
            <h2>æ•°æ®ä¸‹è½½</h2>
            <p>ä¸‹è½½å®Œæ•´çš„åˆ†ææŠ¥å‘Šå’Œè¯„ä¼°ç»“æœï¼š</p>
            <div class="download-section">
                <a href="/static/reports/model_comparison.csv" class="download-link" download>
                    ğŸ“Š ä¸‹è½½æ¨¡å‹è¯„ä¼°æ±‡æ€»è¡¨ (CSV)
                </a>
                <a href="/static/reports/decision_rules_report.md" class="download-link" download>
                    ğŸ“‹ ä¸‹è½½å†³ç­–è§„åˆ™æŠ¥å‘Š (Markdown)
                </a>
                <a href="/static/reports/decision_rules.json" class="download-link" download>
                    âš™ï¸ ä¸‹è½½å†³ç­–è§„åˆ™æ•°æ® (JSON)
                </a>
            </div>
        </section>
    </div>

    <script src="/static/js/script.js"></script>
    <script>
        // æ ‡ç­¾é¡µåŠŸèƒ½
        function openTab(evt, tabName) {
            var i, tabcontent, tabbuttons;

            // éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
                tabcontent[i].classList.remove("active");
            }

            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeç±»
            tabbuttons = document.getElementsByClassName("tab-button");
            for (i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].classList.remove("active");
            }

            // æ˜¾ç¤ºå½“å‰æ ‡ç­¾å†…å®¹ï¼Œæ·»åŠ activeç±»åˆ°æŒ‰é’®
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // åŠ è½½å†³ç­–è§„åˆ™å†…å®¹
        function loadDecisionRules() {
            var contentDiv = document.getElementById('rules-content');
            var errorDiv = document.getElementById('rules-error');

            fetch('/static/reports/decision_rules_report.md')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('æ–‡ä»¶ä¸å­˜åœ¨æˆ–æ— æ³•è®¿é—®');
                    }
                    return response.text();
                })
                .then(markdownText => {
                    // ç®€å•çš„Markdownè§£æ
                    var html = markdownToHtml(markdownText);
                    contentDiv.innerHTML = html;
                    errorDiv.style.display = 'none';
                })
                .catch(error => {
                    console.error('åŠ è½½å†³ç­–è§„åˆ™å¤±è´¥:', error);
                    contentDiv.style.display = 'none';
                    errorDiv.style.display = 'block';
                });
        }

        // ç®€å•çš„Markdownè½¬HTMLå‡½æ•°
        function markdownToHtml(markdown) {
            // æ›¿æ¢æ ‡é¢˜
            var html = markdown
                .replace(/^# (.*$)/gm, '<h1>$1</h1>')
                .replace(/^## (.*$)/gm, '<h2>$1</h2>')
                .replace(/^### (.*$)/gm, '<h3>$1</h3>')
                // æ›¿æ¢è¡¨æ ¼
                .replace(/\|(.*)\|/g, function(match) {
                    var rows = match.split('\n').filter(row => row.trim());
                    if (rows.length < 2) return match;

                    var tableHtml = '<table>';
                    var isHeader = true;

                    rows.forEach((row, index) => {
                        if (index === 0) {
                            tableHtml += '<thead><tr>';
                            row.split('|').filter(cell => cell.trim()).forEach(cell => {
                                tableHtml += `<th>${cell.trim()}</th>`;
                            });
                            tableHtml += '</tr></thead><tbody>';
                        } else if (index === 1 && row.includes('---')) {
                            // è·³è¿‡åˆ†éš”è¡Œ
                        } else {
                            tableHtml += '<tr>';
                            row.split('|').filter(cell => cell.trim()).forEach(cell => {
                                tableHtml += `<td>${cell.trim()}</td>`;
                            });
                            tableHtml += '</tr>';
                        }
                    });

                    tableHtml += '</tbody></table>';
                    return tableHtml;
                })
                // æ›¿æ¢æ— åºåˆ—è¡¨
                .replace(/^\s*-\s+(.*$)/gm, '<li>$1</li>')
                .replace(/(<li>.*<\/li>\n?)+/g, '<ul>$&</ul>')
                // æ›¿æ¢ä»£ç å—
                .replace(/```[\s\S]*?```/g, '<pre><code>$&</code></pre>')
                .replace(/`(.*?)`/g, '<code>$1</code>')
                // æ›¿æ¢ç²—ä½“
                .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                // æ›¿æ¢æ–œä½“
                .replace(/\*(.*?)\*/g, '<em>$1</em>')
                // æ›¿æ¢æ¢è¡Œ
                .replace(/\n/g, '<br>');

            return html;
        }

        // åŠ è½½ç¤ºä¾‹è§„åˆ™
        function loadExampleRules() {
            var contentDiv = document.getElementById('rules-content');
            var errorDiv = document.getElementById('rules-error');

            var exampleRules = `# Decision Rules Report - ç¤ºä¾‹

## æ¦‚è¿°
ç”±äºå†³ç­–è§„åˆ™æ–‡ä»¶æš‚æ—¶æ— æ³•åŠ è½½ï¼Œæ˜¾ç¤ºç¤ºä¾‹å†³ç­–è§„åˆ™ã€‚

## é«˜ä¿¡ç”¨è¯„åˆ†è§„åˆ™ (Good Credit)

| è§„åˆ™ID | è§„åˆ™æè¿° | ç½®ä¿¡åº¦ | æ”¯æŒæ ·æœ¬æ•° |
|--------|----------|--------|------------|
| 1 | æ”¯ç¥¨è´¦æˆ·çŠ¶æ€ = "A11" AND è´·æ¬¾æœŸé™ â‰¤ 18 | 94.2% | 85 |
| 2 | å‚¨è“„è´¦æˆ· = "A65" AND è´·æ¬¾é‡‘é¢ â‰¤ 5000 | 91.8% | 67 |

## ä½ä¿¡ç”¨è¯„åˆ†è§„åˆ™ (Bad Credit)

| è§„åˆ™ID | è§„åˆ™æè¿° | ç½®ä¿¡åº¦ | æ”¯æŒæ ·æœ¬æ•° |
|--------|----------|--------|------------|
| 3 | æ”¯ç¥¨è´¦æˆ·çŠ¶æ€ = "A14" AND è´·æ¬¾æœŸé™ > 48 | 90.7% | 42 |
| 4 | ä¿¡ç”¨å†å² = "A32" AND è´·æ¬¾é‡‘é¢ > 10000 | 88.2% | 38 |

## ä¸šåŠ¡å»ºè®®
1. åŠ å¼ºé«˜é£é™©å®¢æˆ·å®¡æŸ¥
2. è°ƒæ•´è´·æ¬¾æ¡ä»¶
3. å·®å¼‚åŒ–å®šä»·ç­–ç•¥`;

            contentDiv.innerHTML = markdownToHtml(exampleRules);
            contentDiv.style.display = 'block';
            errorDiv.style.display = 'none';

            // åˆ‡æ¢åˆ°è§„åˆ™æŠ¥å‘Šæ ‡ç­¾
            openTab(event, 'rules-md');
        }

        // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨åŠ è½½å†³ç­–è§„åˆ™
        window.onload = function() {
            loadDecisionRules();
        };
    </script>
</body>
</html>